      <!-- 加载动画 -->
      <div id="loading-animation" class="loading-animation">
        <div class="loading-avatar-container">
          <img src="<%= themeConfig.domain %>/images/avatar.png" alt="<%= themeConfig.siteName %>" class="loading-avatar">
          <div class="loading-online-indicator"></div>
        </div>
      </div>

      <script>
        // 页面完全加载完成后才隐藏加载动画
        window.addEventListener('load', function() {
          var loadingAnimation = document.getElementById('loading-animation');
          if (loadingAnimation) {
            // 添加hidden类来触发过渡动画
            loadingAnimation.classList.add('hidden');
            // 等待过渡动画完成后完全隐藏
            setTimeout(function() {
              loadingAnimation.style.display = 'none';
            }, 500);
          }
        });
      </script>

      <header id="header" class="modern-header">
        <div class="header-container">
          <!-- 左侧：头像和名字 -->
          <div class="header-brand">
            <a href="<%= themeConfig.domain %>" class="brand-link">
              <img src="<%= themeConfig.domain %>/images/avatar.png" alt="<%= themeConfig.siteName %>" class="brand-avatar">
              <span class="brand-name"><%= themeConfig.siteName %></span>
            </a>
          </div>

          <!-- 中间：桌面端菜单 - 使用Gridea菜单配置 -->
          <nav class="header-nav">
            <ul class="nav-menu">
              <% if (site.menus && site.menus.length > 0) { %>
                <% site.menus.forEach(function(menu) { %>
                  <li class="<% if (menu.isActive) { %>active<% } %>">
                    <a href="<%= menu.link %>"><%= menu.name %></a>
                  </li>
                <% }); %>
              <% } else { %>
                <li class="<% if (site.isHomepage) { %>active<% } %>">
                  <a href="<%= themeConfig.domain %>">首页</a>
                </li>
              <% } %>
            </ul>
          </nav>

          <!-- 右侧：随机文章、搜索、回到顶部 -->
          <div class="header-actions">
            <a href="javascript:void(0)" class="action-btn random-post" title="随机逛逛">
              <svg class="icon-shuffle" viewBox="0 0 24 24" width="18" height="18">
                <path fill="currentColor" d="M14 20v-2h2.6l-3.175-3.175L14.85 13.4L18 16.55V14h2v6zm-8.6 0L4 18.6L16.6 6H14V4h6v6h-2V7.4zm3.775-9.425L4 5.4L5.4 4l5.175 5.175z"/>
              </svg>
            </a>
            <a href="#search-lightbox" class="action-btn search-btn lightbox mfp-inline" title="搜索">
              <i class="fa fa-search"></i>
            </a>
            <a href="javascript:void(0)" id="header-back-to-top" class="action-btn back-to-top" title="回到顶部">
              <span class="scroll-percent">0</span>
              <i class="fa fa-arrow-up"></i>
            </a>
            <!-- 移动端菜单按钮 -->
            <div class="mobile-menu-toggle">
              <i class="fa fa-bars"></i>
            </div>
          </div>
        </div>

        <!-- 移动端菜单 - 使用Gridea菜单配置 -->
        <div class="mobile-menu">
          <div class="mobile-menu-section">
            <div class="mobile-menu-grid">
              <% if (site.menus && site.menus.length > 0) { %>
                <% site.menus.forEach(function(menu) { 
                  // 根据菜单名称或链接判断使用什么图标
                  var iconClass = 'fa-link';
                  var menuName = menu.name || '';
                  var menuLink = menu.link || '';
                  
                  if (menuName.indexOf('首页') !== -1 || menuLink === '/' || menuLink === themeConfig.domain + '/') {
                    iconClass = 'fa-home';
                  } else if (menuName.indexOf('归档') !== -1 || menuLink.indexOf('archives') !== -1) {
                    iconClass = 'fa-archive';
                  } else if (menuName.indexOf('标签') !== -1 || menuLink.indexOf('tags') !== -1) {
                    iconClass = 'fa-tags';
                  } else if (menuName.indexOf('友链') !== -1 || menuName.indexOf('友') !== -1 || menuLink.indexOf('friends') !== -1) {
                    iconClass = 'fa-address-book';
                  } else if (menuName.indexOf('书') !== -1 || menuName.indexOf('阅读') !== -1 || menuLink.indexOf('books') !== -1) {
                    iconClass = 'fa-book';
                  } else if (menuName.indexOf('影') !== -1 || menuName.indexOf('追番') !== -1 || menuLink.indexOf('bangumis') !== -1) {
                    iconClass = 'fa-tv';
                  } else if (menuName.indexOf('说') !== -1 || menuName.indexOf('essay') !== -1 || menuLink.indexOf('essay') !== -1) {
                    iconClass = 'fa-comment-dots';
                  } else if (menuName.indexOf('关于') !== -1 || menuLink.indexOf('about') !== -1) {
                    iconClass = 'fa-user';
                  }
                %>
                  <a href="<%= menu.link %>" class="mobile-menu-item" title="<%= menu.name %>">
                    <i class="fas <%= iconClass %>"></i>
                    <span><%= menu.name %></span>
                  </a>
                <% }); %>
              <% } else { %>
                <a href="<%= themeConfig.domain %>" class="mobile-menu-item">
                  <i class="fas fa-home"></i>
                  <span>首页</span>
                </a>
              <% } %>
            </div>
          </div>
          <div class="mobile-menu-divider"></div>
          <div class="mobile-menu-action">
            <a href="javascript:void(0)" class="mobile-random-post">
              <svg class="icon-shuffle" viewBox="0 0 24 24" width="16" height="16">
                <path fill="currentColor" d="M14 20v-2h2.6l-3.175-3.175L14.85 13.4L18 16.55V14h2v6zm-8.6 0L4 18.6L16.6 6H14V4h6v6h-2V7.4zm3.775-9.425L4 5.4L5.4 4l5.175 5.175z"/>
              </svg>
              <span>随机逛逛</span>
            </a>
          </div>
          <!-- 搜索按钮 -->
          <div class="mobile-menu-action">
            <a href="#search-lightbox" class="lightbox mfp-inline" id="mobile-search-btn">
              <i class="fas fa-search"></i>
              <span>搜索</span>
            </a>
          </div>
        </div>
      </header>